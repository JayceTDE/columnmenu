<!DOCTYPE 5>
<html>
  <head>
    <title>Menu</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="../build/build.css" />
    <style>
        .separated {
            border-bottom: 1px solid #999;
        }
    </style>
  </head>
  <body>
    <button type="button">Menu</button>
    <script src="../build/build.js"></script>
    <script>
    
        var Menu = require('menu')
          , offset = require('anthonyshort-offset')
          , menuBtn = document.querySelector('button')
          , menu
        ;
        
        menu = Menu();
        
        var tree = [
            { name: 'Create Hobby'
            , value: '#create'
            , className: 'separated'
            },
            { name: 'Cooking' 
            , value: '#cooking'
            , children: [
                { name: 'Cakes', value: '#cooking-cakes' },
                { name: 'Cookies', value: '#cooking-cookies' }
            ]},
            { name: 'Gaming'
            , value: '#gaming'
            , children: [
                { name: 'First Person Shooter', value: '#gaming-fps' },
                { name: 'Real Time Strategy', value: '#gaming-rts' },
                { name: 'MMORPG', value: '#gaming-mmorpg' }
            ]},
            { name: 'Outdoor Sports'
            , value: '#outdoorsports'
            , children: [
                { name: 'Water Sports'
                , value: '#outdoor-water'
                , children: [
                    { name: 'Boating', value: '#outdoor-water-boating' },
                    { name: 'Snorkeling', value: '#outdoor-water-snorkeling' }
                ]},
                { name: 'Biking'
                , value: '#outdoor-biking'
                , children: [
                    { name: 'Mountain Biking'
                    , value: '#outdoor-biking-mountain'
                    , children: [
                        { name: 'Downhill Mountain Biking', value: '#outdoor-biking-mountain-downhill' },
                        { name: 'Cross Country Mountain Biking', value: '#outdoor-biking-mountain-crosscountry' }
                    ]},
                    { name: 'Cycling', value: '#outdoor-biking-cycling' }
                ]}
            ]}
        ];
        
        menu.data(tree);
        
        menu.on('select', function(item){
            console.log('selected: ', item);
        });
        
        menuBtn.onclick = function (e){
            e.stopPropagation();
            e.preventDefault();
            menu.show();
        };
        
        menu.moveTo(offset(menuBtn).left, offset(menuBtn).top + menuBtn.offsetHeight);
        menu.hide();
        document.body.appendChild(menu.el);
        
    </script>
  </body>
</html>